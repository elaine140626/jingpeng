<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="userInfo">

	<select id="getUserInfo" parameterType="java.util.HashMap"  resultType="userInfo">
		
		select u.Id as id,
		       u.Org_Id as orgId,
		       u.UserCode as userCode,
		       u.Password as password,
		       u.Name as name,
		       u.RoleType as roleType,
		       u.IsSystemUser as isSystemUser,
		       u.Operator as operator,
		       u.CreateDate as createDate,
		       u.Modifier as modifier,
		       u.ModifyDate as modifyDate,
		       u.IsValidData as isValidData,
		       o.Org_Name as orgName		       
		    FROM User_Info u, Organization_Info o
		    WHERE o.id = u. Org_Id
		    
		 <if test="userCode != null and userCode != ''">
	
		AND u.UserCode = #{userCode}
		
		</if>
		
	    <if test="password != null and password != ''">
	
		AND u.Password = #{password}
		
		</if>
		         
	</select>
	

</mapper>