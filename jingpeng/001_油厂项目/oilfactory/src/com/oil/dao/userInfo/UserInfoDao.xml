<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.oil.dao.userInfo.UserInfoDao">

<select id="getAppUser" parameterType="java.util.Map" resultType="Userinfo">
	SELECT
		* 
	FROM
		userinfo 
	WHERE
    IsDel = 0
	<if test='type != null and type == "out"'>
		AND (RoleCode LIKE CONCAT('%',4,'%') OR RoleCode LIKE CONCAT('%',5,'%'))
	</if>
	<if test='type != null and type == "instroe"'>
		AND (RoleCode LIKE CONCAT('%',4,'%') AND RoleCode NOT LIKE CONCAT('%',5,'%'))
	</if>
	<if test='type != null and type == "repertory"'>
		AND (RoleCode LIKE CONCAT('%',4,'%') OR RoleCode LIKE CONCAT('%',5,'%'))
	</if>
	order by CreaterDate desc
</select>
</mapper>