<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.oil.dao.productionManagement.QualityCheckingDao">	
	<!-- 计划调度表获取(提交质检申请) -->
	<select id="getQualityCheck" parameterType="java.util.Map" resultType="com.oil.model.dispath.NextProductionPlanEntity">
		SELECT
		  * 
		FROM
		  v_planmeasure as vpm 
		where
		   vpm.IsDel = 0
		   and vpm.IsProduction = 0
		  <if test="id!=null and id!=''">
		  and vpm.Id = #{id}                              -- 按照id查询
		  </if>	
		  <if test="materielName!=null and materielName!=''">
		  and vpm.MaterielName like '%${materielName}%'   -- 产品名称
		  </if>	
		  <if test="materielModel!=null and materielModel!=''">
		  and vpm.MaterielModel like '%${materielModel}%' -- 产品规格
		  </if>	
		  <if test="isApplication != null and isApplication != ''">
		  and vpm.IsApplication = #{isApplication}          -- 状态
		  </if>	 
		  order by vpm.ReviserDate desc	 	  
	</select>
</mapper>