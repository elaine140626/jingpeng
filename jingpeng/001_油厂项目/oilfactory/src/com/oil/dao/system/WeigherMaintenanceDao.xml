<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.oil.dao.system.WeigherMaintenanceDao">

    <!-- 获取全部称斤员 -->
	<select id="getWeigherMaintenance" parameterType="java.util.Map" resultType="Userinfo">
		SELECT
			Id
			,UserName
			,Name
			,Telephone
			,AnotherName
		FROM Userinfo            
		WHERE 
			IsDel = 0
		and RoleCode  LIKE '%,12,%' 
			<if test="id != null and id != ''">
			AND Id = #{id}
			</if>
			
	    ORDER By Id DESC
	</select>
	
	<!--修改称斤员别名 -->
	<update id="updateWeigherMaintenance" parameterType="Userinfo">
		update Userinfo set
		AnotherName = #{anotherName},
		Reviser = #{reviser},
		ReviserDate = now()
		WHERE Id= #{id}
	</update>
	
</mapper>